<?php
if (isset($_SERVER['HTTP_CF_CONNECTING_IP'])) { $_SERVER['REMOTE_ADDR'] = $_SERVER['HTTP_CF_CONNECTING_IP']; }         
function ip2ipsVN($ip=null) {
	//Điểm VNIX',					'ASN',				'IPv4',						'IPv6'),
	$arrayIP = array(
		array('VNIX HN',			'23899',			'218.100.10.0/24',			'2001:07FA:0006::/48'),
		array('VNIX HCM',			'23962',			'218.100.14.0/24',			'2001:0DE8:000A::/48'),
		array('VNIX ĐN',			'56156',			'218.100.60.0/24',			'2001:0DE8:0003::/48'),
		array('VNNIC HN',			'23902',			'203.119.8.0/22',			'2001:0DC8::/32'),
		array('VNNIC HN',			'23902',			'203.119.72.0/22',			''),
		array('VNNIC HN',			'38736',			'203.119.60.0/22',			''),
		array('VNNIC HCM',			'24066',			'203.119.36.0/22',			'2001:0DE8:000A::/48'),
		array('VNNIC HCM',			'24066',			'117.122.124.0/22',			'2001:0DC8:C001::/48'),
		array('VNNIC HCM',			'38737',			'203.119.68.0/22',			'2001:0DC8:D000::/48'),
		array('VNNIC ĐN',			'24089',			'203.119.44.0/22',			''),
		array('VNNIC ĐN',			'131415',			'203.119.64.0/22',			''),
		array('VNNIC ĐN',			'',					'203.119.58.0/23',			''),
		array('VNNIC Anycast',		'45554',			'202.47.142.0/24',			''),
		array('VNNIC Anycast',		'45554',			'42.96.6.0/24',				''),
		array('VNNIC Anycast',		'45554',			'42.96.8.0/24',				''),
		array('Viettel',			'7552',				'203.113.128.0/18',			'2402:0800::/32'),
		array('Viettel',			'7552',				'220.231.64.0/18',			''),
		array('Viettel',			'7552',				'125.234.0.0/15',			''),
		array('Viettel',			'7552',				'117.0.0.0/13',				''),
		array('Viettel',			'7552',				'115.72.0.0/13',			''),
		array('Viettel',			'7552',				'27.64.0.0/12',				''),
		array('Viettel',			'7552',				'171.224.0.0/11',			''),
		array('Viettel',			'24086',			'116.96.0.0/12',			'2401:d800::/32'),
		array('Viettel',			'24086',			'125.212.128.0/17',			''),
		array('Viettel',			'24086',			'125.214.0.0/18',			''),
		array('Viettel',			'24086',			'203.190.160.0/20',			''),
		array('VTC',				'38248',			'117.103.192.0/18',			'2401:B800::/32'),
		array('VNPT Net',			'7643',				'203.162.0.0/16',			'2001:0EE0::/32'),
		array('VNPT Net',			'7643',				'203.210.128.0/17',			''),
		array('VNPT Net',			'7643',				'221.132.0.0/18',			''),
		array('VNPT Net',			'45899',			'203.160.0.0/23',			'2001:0EE0:1::/48'),
		array('VNPT Net',			'45899',			'222.252.0.0/14',			''),
		array('VNPT Net',			'45899',			'123.16.0.0/12',			''),
		array('VNPT Net',			'45899',			'113.160.0.0/11',			''),
		array('VNPT Net',			'45899',			'14.160.0.0/11',			''),
		array('VNPT Net',			'45899',			'14.224.0.0/11',			''),
		array('VNPT Net',			'45899',			'221.132.30.0/23',			''),
		array('VNPT Net',			'45899',			'221.132.32.0/21',			''),
		array('SPT',				'7602',				'221.133.0.0/19',			'2402:F800::/32'),
		array('SPT',				'7602',				'221.121.0.0/18',			''),
		array('SPT',				'7602',				'116.118.0.0/17',			''),
		array('SPT',				'7602',				'180.93.0.0/16',			''),
		array('SPT',				'7602',				'103.200.60.0/22',			''),
		array('SPT',				'7602',				'203.196.24.0/22',			''),
		array('SCTV',				'45543',			'112.197.0.0/16',			''),
		array('SCTV',				'45543',			'27.2.0.0/15',				''),
		array('ODS',				'45538',			'112.78.0.0/20',			''),
		array('ODS',				'45538',			'125.253.112.0/20',			''),
		array('ODS',				'45538',			'103.249.100.0/22',			''),
		array('ODS',				'45538',			'45.117.164.0/22',			''),
		array('NETNAM',				'24173',			'202.151.160.0/21',			'2401:E800::/32'),
		array('NETNAM',				'131370',			'210.86.224.0/21',			''),
		array('NETNAM',				'131370',			'119.17.192.0/19',			''),
		array('NETNAM',				'131370',			'119.15.160.0/20',			''),
		array('NETNAM',				'131370',			'101.96.64.0/18',			''),
		array('NETNAM',				'24176',			'202.151.168.0/21',			''),
		array('NETNAM',				'24176',			'210.86.232.0/21',			''),
		array('NETNAM',				'24176',			'119.17.224.0/19',			''),
		array('NETNAM',				'24176',			'119.15.176.0/20',			''),
		array('NETNAM',				'24176',			'101.53.0.0/18',			''),
		array('NEWLIFE',			'55314',			'14.0.16.0/20',				''),
		array('NEWLIFE',			'55314',			'103.229.40.0/22',			''),
		array('VNTT',				'45557',			'180.148.0.0/21',			'2404:3A00::/48'),
		array('VNTT',				'45557',			'103.17.88.0/22',			''),
		array('VNTT',				'45557',			'45.118.136.0/22',			''),
		array('HTC',				'24088',			'203.128.240.0/21',			'2001:0DF0::/48'),
		array('HTC',				'24088',			'103.238.68.0/22',			''),
		array('HTC',				'38253',			'202.60.104.0/21',			''),
		array('HTC',				'38253',			'103.238.72.0/22',			''),
		array('GDS',				'38735',			'113.52.32.0/19',			'2407:100::/32'),
		array('GDS',				'38735',			'49.246.128.0/18',			''),
		array('GDS',				'38735',			'49.246.192.0/19',			''),
		array('FPT',				'18403',			'210.245.0.0/17',			'2405:4800::/32'),
		array('FPT',				'18403',			'58.186.0.0/15',			''),
		array('FPT',				'18403',			'118.68.0.0/14',			''),
		array('FPT',				'18403',			'113.22.0.0/16',			''),
		array('FPT',				'18403',			'113.23.0.0/17',			''),
		array('FPT',				'18403',			'183.80.0.0/16',			''),
		array('FPT',				'18403',			'183.81.0.0/17',			''),
		array('FPT',				'18403',			'1.52.0.0/14',				''),
		array('FPT',				'18403',			'42.112.0.0/13',			''),
		array('FPT',				'18403',			'103.35.64.0/22',			''),
		array('FPT',				'18403',			'43.239.148.0/22',			''),
		array('DTS',				'45552',			'202.43.108.0/22',			'2400:9100::/48'),
		array('DTS',				'45552',			'103.20.144.0/22',			''),
		array('CMC TI',				'45903',			'183.91.0.0/19',			'2402:5300::/32'),
		array('CMC TI',				'45903',			'101.99.0.0/18',			''),
		array('CMC TI',				'45903',			'203.205.0.0/18',			''),
		array('CMC TI',				'45903',			'103.9.196.0/22',			''),
		array('CMC TI',				'45903',			'113.20.96.0/19',			''),
		array('CMC TI',				'45903',			'45.122.232.0/22',			''),
		array('VINADATA',			'38244',			'61.28.224.0/19',			'2001:0DF0:001A::/48'),
		array('VINADATA',			'38244',			'45.127.252.0/22',			''),
		array('VINADATA',			'38244',			'103.196.236.0/22',		''),
		array('MOBIFONEGLOBAL',		'45895',			'111.91.232.0/22',			'2001:0DF0:2E8::/48'),
		array('MOBIFONEGLOBAL',		'45896',			'103.19.164.0/22',			''),
		array('MOBIFONEGLOBAL',		'45897',			'45.125.208.0/22',			''),
		array('VTVCAB',				'131410',			'103.233.48.0/22',			''),
		array('VTVCAB',				'131410',			'45.124.88.0/22',			''),
		array('DIGINET',			'131349',			'103.23.144.0/22',			''),
		array('DIGINET',			'131349',			'45.118.140.0/22',			''),
		array('FPTSOFTWARE',		'131402',			'103.227.216.0/22',			'2001:0DF4:D800::/48'),
		array('VNA',				'23999',			'202.6.96.0/23',			'2001:0DF0:000E::/48'),
		array('MOFA',				'24035',			'202.6.2.0/24',				'2001:0DF0:0019::/48'),
		array('QTSC',				'24085',			'202.78.224.0/21',			'2403:6000::/32'),
		array('QTSC',				'24085',			'116.193.64.0/20',			''),
		array('QTSC',				'24085',			'120.72.96.0/19',			''),
		array('QTSC',				'24085',			'120.72.80.0/21',			''),
		array('QTSC',				'24085',			'210.2.64.0/18',			''),
		array('DAB',				'24174',			'203.77.178.0/24',			''),
		array('NGT',				'45550',			'202.134.16.0/22',			''),
		array('NGT',				'24087',			'203.171.28.0/22',			''),
		array('Vinagame',			'',					'122.201.8.0/21',			'2001:0DF0:0013::/48'),
		array('Vinagame',			'',					'118.102.0.0/21',			''),
		array('Vinagame',			'',					'120.138.64.0/20',			''),
		array('Vinagame',			'',					'49.213.64.0/18',			''),
		array('SFone',				'38246',			'203.99.248.0/22',			''),
		array('HTMOBILE',			'38247',			'202.172.4.0/23',			''),
		array('HTMOBILE',			'38247',			'203.170.26.0/23',			''),
		array('HTMOBILE',			'38247',			'103.7.36.0/22',			''),
		array('HTMOBILE',			'38247',			'45.126.96.0/22',			''),
		array('KIS',				'38249',			'202.87.212.0/22',			'2001:0DF0:000C::/48'),
		array('VnDirect',			'38251',			'202.160.124.0/23',			''),
		array('HOPTHANH',			'38725',			'203.191.8.0/21',			'2001:0DF0:001D::/48'),
		array('SAIGONTEL',			'45545',			'116.68.128.0/21',			''),
		array('OCEANBANK',			'131379',			'103.31.120.0/22',			''),
		array('VTCDigicom',			'38726',			'119.18.184.0/21',			'2400:bc80::/32'),
		array('VTCDigicom',			'38726',			'118.107.64.0/18',			''),
		array('VTCDigicom',			'38726',			'103.227.112.0/22',			''),
		array('VTCDigicom',			'38726',			'43.239.188.0/22',			''),
		array('HUT',				'38727',			'202.191.56.0/22',			'2001:0DF0:001C::/48'),
		array('GDATA',				'131400',			'103.226.248.0/22',			''),
		array('KCC',				'38729',			'120.50.184.0/21',			''),
		array('KCC',				'38729',			'203.176.160.0/21',			''),
		array('KCC',				'38729',			'182.161.80.0/20',			''),
		array('ViettinBank',		'38730',			'203.189.28.0/22',			'2001:0DF0:000F::/48'),
		array('Viettel CHT',		'38731',			'115.84.176.0/21',			'2401:5F80::/32'),
		array('Viettel CHT',		'38731',			'210.211.96.0/19',			''),
		array('Viettel CHT',		'38731',			'103.1.208.0/22',			''),
		array('Viettel CHT',		'38731',			'45.117.160.0/22',			''),
		array('VNU',				'45542',			'112.137.128.0/20',			''),
		array('VTTC',				'',					'45.125.200.0/22',			''),
		array('BIDV',				'45541',			'203.201.56.0/22',			'2001:0DF0:029C::/48'),
		array('GTELMOBILE',			'45546',			'110.35.72.0/21',			''),
		array('STS',				'45547',			'110.44.184.0/21',			''),
		array('ARTEXSECURITIES',	'45548',			'202.130.36.0/23',			''),
		array('VBL',				'45551',			'203.34.144.0/24',			''),
		array('FPT Online',			'45894',			'180.148.128.0/20',			'2001:0DF0:0066::/48'),
		array('FPT Online',			'45894',			'111.65.240.0/20',			''),
		array('PVISL',				'131387',			'103.250.24.0/22',			''),
		array('Scancom',			'45556',			'203.161.178.0/24',			'2001:0DF0:0221::/48'),
		array('Eximbank',			'45901',			'202.4.168.0/24',			''),
		array('TVSI',				'131125',			'202.134.54.0/24',			''),
		array('VNAIR',				'131126',			'183.90.160.0/21',			''),
		array('HASECO',				'45902',			'202.4.176.0/24',			''),
		array('AGRIBANK',			'55306',			'175.106.0.0/22',			''),
		array('APEC',				'55307',			'202.124.204.0/24',			''),
		array('SuperData',			'45544',			'27.0.12.0/22',				''),
		array('SuperData',			'45544',			'103.1.236.0/22',			''),
		array('SuperData',			'45544',			'103.7.40.0/22',			''),
		array('SuperData',			'45544',			'45.117.168.0/22',			''),
		array('SuperData',			'45544',			'112.213.80.0/20',			''),
		array('SBV',				'45900',			'202.58.245.0/24',			''),
		array('CSCJ',				'45555',			'203.79.28.0/24',			''),
		array('MPI',				'55308',			'182.236.112.0/22',			''),
		array('ADTEC',				'45540',			'202.55.132.0/22',			''),
		array('MTT',				'55309',			'182.237.20.0/22',			'2405:CB00:0::/48'),
		array('MTT',				'55309',			'112.109.88.0/21',			''),
		array('MTT',				'55309',			'103.235.208.0/22',			''),
		array('LIENVIETBANK',		'55311',			'202.9.80.0/24',			''),
		array('KCS',				'55310',			'202.9.79.0/24',			''),
		array('OnePay',				'131128',			'202.9.84.0/24',			''),
		array('HANELCOM',			'55313',			'27.118.16.0/20',			''),
		array('HANELCOM',			'55313',			'45.126.92.0/22',			''),
		array('HANELCOM',			'55313',			'103.245.148.0/22',			''),
		array('HOANGLONG',			'55312',			'202.52.39.0/24',			''),
		array('SSI',				'55315',			'202.59.238.0/23',			''),
		array('ACB',				'55318',			'202.59.252.0/23',			''),
		array('HABUBANK',			'55316',			'122.102.112.0/22',			''),
		array('VPBank',				'55319',			'202.74.56.0/24',			''),
		array('ABBank',				'55317',			'202.74.58.0/23',			''),
		array('DSP',				'56141',			'49.156.52.0/22',			''),
		array('LDCC',				'131398',			'103.225.236.0/22',			''),
		array('AOHOAVIET',			'131427',			'103.53.228.0/22',			''),
		array('IACP',				'38252',			'202.94.88.0/23',			''),
		array('NPC',				'55322',			'116.212.32.0/19',			''),
		array('POVO',				'55324',			'202.0.79.0/24',			''),
		array('TLS',				'131130',			'202.37.86.0/23',			''),
		array('ISS',				'131393',			'103.252.0.0/22',			''),
		array('VIETINBANKSC',		'55323',			'202.44.137.0/24',			''),
		array('SHBS',				'131131',			'203.8.172.0/24',			''),
		array('TNKVIETNAM',			'56142',			'203.8.127.0/24',			''),
		array('VINAREN',			'24175',			'203.191.48.0/21',			'2406:9000::/32'),
		array('VINAREN',			'24175',			'119.18.128.0/20',			''),
		array('VINAREN',			'24175',			'110.35.64.0/21',			''),
		array('GTEL',				'131127',			'183.91.160.0/19',			''),
		array('GLOBALCORP',			'56146',			'223.27.104.0/21',			''),
		array('CPVN',				'',					'103.1.200.0/22',			''),
		array('VDATA',				'56143',			'103.3.244.0/22',			''),
		array('CCVN',				'56147',			'103.3.248.0/22',			''),
		array('CCVN',				'56147',			'45.120.228.0/22',			''),
		array('AIAVN',				'56144',			'103.246.104.0/24',			''),
		array('LCS',				'38738',			'113.61.108.0/22',			'2405:CD00:0::/48'),
		array('LCS',				'38738',			'101.96.12.0/22',			''),
		array('INCOM',				'56149',			'103.3.252.0/22',			''),
		array('INCOM',				'56149',			'45.121.160.0/22',			''),
		array('PVFC',				'56148',			'103.10.88.0/22',			''),
		array('SOTTTTVP',			'131401',			'103.228.20.0/22',			''),
		array('TECHCOMBANK',		'131342',			'103.4.128.0/22',			''),
		array('VIB',				'131343',			'103.10.212.0/22',			''),
		array('FIBO',				'131344',			'103.246.220.0/22',			''),
		array('FIBO',				'131344',			'45.119.84.0/22',			''),
		array('KienLongBank',		'131345',			'103.5.30.0/23',			''),
		array('THREEDOTCOM',		'',					'103.5.208.0/22',			''),
		array('SHINHANBANK',		'131347',			'103.5.204.0/22',			''),
		array('VietcomBank',		'131348',			'103.11.172.0/22',			''),
		array('VinaTechSoft',		'131366',			'103.23.156.0/22',			''),
		array('VinaTechSoft',		'131366',			'59.153.212.0/22',			''),
		array('NHANHOAHCM',			'',					'103.57.208.0/22',			''),
		array('NHANHOAHCM',			'',					'45.117.176.0/22',			''),
		array('NHANHOA',			'131353',			'103.28.36.0/22',			''),
		array('NHANHOA',			'131353',			'45.117.80.0/22',			'2001:DF1:3200::/48'),
		array('OCB',				'131351',			'103.28.136.0/22',			''),
		array('HTS',				'131388',			'103.24.244.0/22',			''),
		array('VNCERT',				'131352',			'103.28.172.0/22',			''),
		array('VTCWLB',				'45539',			'112.72.64.0/18',			''),
		array('PRUDENTIAL',			'131354',			'103.7.196.0/24',			''),
		array('MOBIFONE',			'131429',			'103.53.252.0/22',			'2402:9d80::/32'),
		array('MOBIFONE',			'131429',			'45.121.24.0/22',			''),
		array('DUYTAN',				'131357',			'103.7.177.0/24',			'2001:0DF6:3400::/48'),
		array('DUYTAN',				'131357',			'103.213.122.0/22',			''),
		array('BONONGNGHIEP',		'131369',			'103.7.172.0/24',			''),
		array('IGI',				'131355',			'103.8.13.0/24',			''),
		array('ACBS',				'131359',			'103.9.80.0/22',			''),
		array('TTN',				'56145',			'103.2.220.0/22',			''),
		array('MONRE',				'131365',			'103.9.84.0/22',			''),
		array('TELEHOUSE',			'131358',			'103.9.0.0/22',				''),
		array('VINAHOST',			'',					'103.9.76.0/22',			''),
		array('VINAHOST',			'',					'146.196.64.0/22',			''),
		array('BANKNETVN',			'131360',			'103.9.4.0/22',				''),
		array('GDT',				'131363',			'103.9.200.0/22',			''),
		array('HNX',				'131362',			'103.9.212.0/22',			''),
		array('VIETHOSTING',		'131441',			'43.239.224.0/22',			''),
		array('VIETHOSTING',		'131441',			'103.234.36.0/22',			''),
		array('SUNSOFT',			'131361',			'103.9.204.0/22',			''),
		array('MOST',				'131373',			'103.13.76.0/22',			''),
		array('MBBANK',				'131364',			'103.12.104.0/22',			''),
		array('CMC Telecom',		'38732',			'115.146.120.0/21',			''),
		array('CMC Telecom',		'38732',			'124.158.0.0/21',			''),
		array('CMC Telecom',		'38732',			'103.21.148.0/22',			''),
		array('CMC Telecom',		'38733',			'115.165.160.0/21',			''),
		array('CMC Telecom',		'38733',			'124.158.8.0/21',			''),
		array('VONLINE',			'131367',			'103.20.148.0/22',			''),
		array('VONLINE',			'131367',			'45.118.148.0/22',			''),
		array('MATBAO',				'',					'103.15.48.0/22',			''),
		array('MATBAO',				'',					'103.235.212.0/22',			''),
		array('PVOIL',				'131368',			'103.21.120.0/22',			''),
		array('BMSC',				'131371',			'103.30.36.0/22',			''),
		array('VIVAS',				'131372',			'103.31.124.0/22',			''),
		array('DIGIPOWER',			'131377',			'103.18.176.0/22',			''),
		array('INTERCOM',			'131421',			'103.17.236.0/22',			''),
		array('SGAME',				'131376',			'103.19.96.0/22',			''),
		array('NAHI',				'131378',			'103.19.220.0/22',			'2001:0DF6:7000::/48'),
		array('MIC',				'131375',			'103.16.0.0/22',			''),
		array('TCHQ',				'131381',			'103.248.160.0/22',			''),
		array('NITECO',				'131380',			'103.248.164.0/22',			''),
		array('CLOUDVIS',			'131382',			'103.249.20.0/22',			''),
		array('VHOST',				'131384',			'45.122.220.0/22',			''),
		array('VHOST',				'56150',			'103.27.60.0/22',			''),
		array('VTV',				'131385',			'103.27.64.0/22',			''),
		array('PVI',				'131383',			'103.26.252.0/22',			''),
		array('LVSS',				'131386',			'103.27.236.0/22',			''),
		array('LVSS',				'131386',			'45.119.80.0/22',			''),
		array('iNET',				'24177',			'202.92.4.0/22',			'2001:0DF0:001B::/48'),
		array('iNET',				'24177',			'103.57.220.0/22',			''),
		array('iNET',				'24177',			'144.48.20.0/22',			''),
		array('SEABANK',			'131389',			'103.241.248.0/22',			''),
		array('ECOMVIET',			'131390',			'103.242.52.0/22',			''),
		array('VAB',				'131391',			'103.243.216.0/22',			''),
		array('RUNSYSTEM',			'131392',			'103.18.4.0/22',			''),
		array('RUNSYSTEM',			'131392',			'137.59.104.0/22',			''),
		array('CLOUDOVS',			'131394',			'103.243.104.0/22',			''),
		array('RUVN',				'131396',			'103.253.88.0/22',			''),
		array('VPDPTW',				'131395',			'103.254.40.0/22',			''),
		array('HMU',				'131397',			'103.254.16.0/22',			''),
		array('DIGISTAR',			'56151',			'103.254.12.0/22',			''),
		array('DIGISTAR',			'56151',			'45.117.172.0/22',			''),
		array('ICSOFT',				'131403',			'103.254.216.0/22',			''),
		array('ICSOFT',				'131403',			'45.119.108.0/22',			''),
		array('CTC',				'131406',			'103.255.84.0/22',			''),
		array('CTC',				'131406',			'45.119.76.0/22',			''),
		array('LUUTRUSO',			'56153',			'103.255.236.0/22',			'2001:0DF3:5C00::/48'),
		array('LUUTRUSO',			'56153',			'61.14.232.0/22',			''),
		array('SSG',				'131399',			'103.224.168.0/22',			''),
		array('TANCANGSG',			'131405',			'103.226.108.0/22',			''),
		array('BANG',				'',					'103.252.252.0/22',			''),
		array('BPONLINE',			'',					'103.245.244.0/22',			''),
		array('BPONLINE',			'',					'203.167.8.0/22',			''),
		array('ATI',				'',					'180.214.236.0/22',			''),
		array('LONGDINH',			'',					'103.245.248.0/22',			''),
		array('LONGDINH',			'',					'58.84.0.0/22',				''),
		array('NGUYENBAO',			'131440',			'103.245.252.0/22',			''),
		array('VIETNAMHOST',		'131404',			'103.229.192.0/22',			''),
		array('SGCTT',				'131407',			'103.231.148.0/22',			''),
		array('VIETNAMNET',			'131411',			'103.232.60.0/22',			''),
		array('TPBANK',				'131408',			'103.232.56.0/22',			''),
		array('BVISROYAL',			'131409',			'103.232.52.0/22',			''),
		array('VHOSTCORP',			'',					'103.232.120.0/22',			''),
		array('GLTEC',				'63738',			'103.199.8.0/22',			'2001:0DF7:CC00::/48'),
		array('GLTEC',				'63738',			'59.153.216.0/22',			''),
		array('SAV',				'131412',			'103.237.60.0/22',			''),
		array('BKAV',				'',					'103.237.96.0/22',			''),
		array('TTSV',				'',					'103.237.64.0/22',			''),
		array('TTSV',				'',					'45.125.204.0/22',			''),
		array('MATBAOBPO',			'',					'103.237.148.0/22',			''),
		array('LVSOFT',				'131414',			'103.237.144.0/22',			''),
		array('LVSOFT',				'131414',			'45.118.144.0/22',			''),
		array('VINECOM',			'131413',			'103.238.208.0/22',			''),
		array('VINECOM',			'131413',			'72.0.240.0/22',			''),
		array('CLOUDONE',			'131416',			'103.238.80.0/22',			''),
		array('CLOUDONE',			'131416',			'47.117.156.0/22',			''),
		array('MATBAOMEDIA',		'',					'103.238.76.0/22',			''),
		array('BIZMAC',				'131428',			'103.238.212.0/22',			''),
		array('BIZMAC',				'131428',			'45.117.76.0/22',			''),
		array('VINACOMIN',			'131417',			'103.239.32.0/22',			''),
		array('VIETNAMESPORTS',		'131418',			'103.239.120.0/22',			''),
		array('VIETNAMESPORTS',		'131418',			'45.119.240.0/22',			''),
		array('SMARTLINK',			'131419',			'103.239.116.0/22',			''),
		array('ADCSOFTWARE',		'',					'103.37.32.0/22',			''),
		array('TIENPHONG',			'',					'103.37.28.0/22',			''),
		array('ISE',				'',					'103.38.136.0/22',			''),
		array('AZHOST',				'',					'103.39.92.0/22',			''),
		array('BISHANOI',			'131420',			'103.39.96.0/22',			''),
		array('PVCOMBANK',			'',					'103.10.88.0/22',			''),
		array('THEGIOISO',			'56158',			'202.143.108.0/22',			''),
		array('THEGIOISO',			'56154',			'103.42.56.0/22',			''),
		array('ESC',				'131424',			'103.45.228.0/22',			''),
		array('HTES',				'',					'103.45.236.0/22',			''),
		array('VNCS',				'',					'103.45.232.0/22',			''),
		array('FTECH',				'',					'103.47.192.0/22',			''),
		array('FTECH',				'',					'45.125.236.0/22',			''),
		array('TGDD',				'131425',			'103.48.76.0/22',			''),
		array('EMOBI',				'131422',			'103.48.84.0/22',			''),
		array('BKNS',				'',					'103.48.80.0/22',			''),
		array('BKNS',				'',					'45.124.84.0/22',			''),
		array('BSTAR',				'56152',			'103.48.188.0/22',			''),
		array('LVHN',				'131423',			'103.48.192.0/22',			''),
		array('LVHN',				'131423',			'45.119.212.0/22',			''),
		array('EPOSI',				'131433',			'103.52.92.0/22',			''),
		array('MISA',				'131426',			'103.53.88.0/22',			''),
		array('VCIC',				'',					'43.239.220.0/22',			''),
		array('VCIC',				'',					'103.53.168.0/22',			''),
		array('ICTHOABINH',			'',					'103.211.212.0/22',			''),
		array('NNM',				'',					'103.54.248.0/22',			''),
		array('BAOVIETBANK',		'131430',			'103.56.168.0/22',			''),
		array('VCCORP',				'',					'103.56.156.0/22',			''),
		array('VCCORP',				'',					'45.124.92.0/22',			''),
		array('LMHTX',				'131431',			'103.56.160.0/22',			''),
		array('TLINK',				'',					'103.56.164.0/22',			''),
		array('ASIACOM',			'131432',			'103.57.104.0/22',			''),
		array('VSSIC',				'131436',			'103.57.112.0/22',			''),
		array('HOABINH',			'131435',			'103.60.16.0/22',			''),
		array('HOABINH',			'',					'45.119.216.0/22',			''),
		array('SCOM',				'131434',			'103.61.44.0/22',			''),
		array('SCOM',				'',					'45.120.224.0/22',			''),
		array('SCB',				'56159',			'103.61.48.0/22',			''),
		array('OSB',				'',					'103.62.8.0/22',			'2001:0DF4:C400::/48'),
		array('OSB',				'',					'45.121.152.0/22',			''),
		array('EHOST',				'',					'103.63.212.0/22',			''),
		array('EHOST',				'',					'45.123.96.0/22',			''),
		array('CMCMIENTRUNG',		'',					'103.63.120.0/22',			''),
		array('CMCMIENTRUNG',		'',					'45.122.236.0/22',			''),
		array('CMCMIENBAC',			'',					'103.63.116.0/22',			''),
		array('CMCMIENBAC',			'',					'45.122.240.0/22',			''),
		array('CMCBINHDUONG',		'',					'103.63.104.0/22',			''),
		array('CMCBINHDUONG',		'',					'45.122.248.0/22',			''),
		array('CMCHAIPHONG',		'',					'103.63.108.0/22',			''),
		array('CMCHAIPHONG',		'',					'45.122.252.0/22',			''),
		array('CMCHCM',				'',					'103.63.112.0/22',			''),
		array('CMCHCM',				'',					'45.122.244.0/22',			''),
		array('CUCATTTMIC',			'',					'103.192.236.0/22',			''),
		array('TOCDOSOVN',			'63740',			'103.195.240.0/22',			''),
		array('DULIEUAZ',			'',					'103.195.236.0/22',			''),
		array('VNPOST',				'131438',			'103.196.16.0/22',			'2001:0DF6:2C00::/48'),
		array('PCB',				'131439',			'103.196.244.0/22',			''),
		array('DTCOM',				'131437',			'103.196.248.0/22',			''),
		array('MOBIFONEKV1',		'',					'103.199.20.0/22',			''),
		array('MOBIFONEKV2',		'',					'59.153.220.0/22',			''),
		array('MOBIFONEKV2',		'',					'103.199.24.0/22',			''),
		array('MOBIFONEKV3',		'',					'59.153.224.0/22',			''),
		array('MOBIFONEKV3',		'',					'103.199.28.0/22',			''),
		array('MOBIFONEKV4',		'',					'59.153.228.0/22',			''),
		array('MOBIFONEKV4',		'',					'103.199.32.0/22',			''),
		array('MOBIFONEKV5',		'',					'59.153.232.0/22',			''),
		array('MOBIFONEKV5',		'',					'103.199.40.0/22',			''),
		array('MOBIFONEKV6',		'',					'59.153.236.0/22',			''),
		array('MOBIFONEKV6',		'',					'103.199.36.0/22',			''),
		array('MOBIFONEKV7',		'',					'59.153.240.0/22',			''),
		array('MOBIFONEKV7',		'',					'103.199.44.0/22',			''),
		array('MOBIFONEKV8',		'',					'59.153.244.0/22',			''),
		array('MOBIFONEKV8',		'',					'103.199.52.0/22',			''),
		array('MOBIFONEKV9',		'',					'59.153.248.0/22',			''),
		array('MOBIFONEKV9',		'',					'103.199.48.0/22',			''),
		array('MOBIFONEKV10',		'',					'59.153.252.0/22',			''),
		array('MOBIFONEMLMB',		'',					'103.199.56.0/22',			''),
		array('MOBIFONEMLMB',		'',					'137.59.32.0/22',			''),
		array('MOBIFONEMLMN',		'',					'103.199.60.0/22',			''),
		array('MOBIFONEMLMN',		'',					'137.59.36.0/22',			''),
		array('MOBIFONEMLMT',		'',					'103.199.68.0/22',			''),
		array('MOBIFONEMLMT',		'',					'137.59.24.0/22',			''),
		array('MOBIFONENOC',		'',					'103.199.72.0/22',			''),
		array('MOBIFONENOC',		'',					'137.59.40.0/22',			''),
		array('MOBIFONECNTT',		'',					'103.199.76.0/22',			''),
		array('MOBIFONECNTT',		'',					'137.59.44.0/22',			''),
		array('MOBIFONEGTGT',		'',					'103.199.64.0/22',			''),
		array('MOBIFONEGTGT',		'',					'137.59.28.0/22',			''),
		array('GREENCLOUDVPS',		'63734',			'103.199.16.0/22',			''),
		array('TMASOLUTIONS',		'56155',			'103.199.4.0/22',			''),
		array('VSTV',				'',					'103.199.12.0/22',			''),
		array('VIETNIX',			'56160',			'103.200.20.0/22',			''),
		array('MAXDATA',			'',					'103.200.24.0/22',			''),
		array('MAXDATA',			'',					'203.167.12.0/22',			''),
		array('ONEVISION',			'56157',			'103.200.120.0/22',			''),
		array('ONEVISION',			'56157',			'121.50.172.0/22',			''),
		array('CLOUDMEDIA',			'',					'103.10.44.0/22',			''),
		array('CLOUDMEDIA',			'',					'203.160.132.0/22',			''),
		array('VNSO',				'63730',			'103.9.156.0/22',			''),
		array('HNSDC',				'',					'103.205.100.0/22',			''),
		array('FIMPLUS',			'63732',			'103.205.104.0/22',			''),
		array('TPTECO',				'63731',			'103.205.96.0/22',			'2001:df0:2a00::/48'),
		array('TPTECO',				'63731',			'61.14.236.0/22',			''),
		array('HOATOC',				'63735',			'103.206.216.0/22',			''),
		array('LIENMINHHUYENTHOAI',	'63733',			'103.206.212.0/22',			''),
		array('LIENMINHHUYENTHOAI',	'63733',			'137.59.116.0/22',			''),
		array('VIETSERVER',			'63737',			'103.207.36.0/22',			''),
		array('NAMABANK',			'63736',			'103.207.32.0/22',			''),
		array('THEKYMOI',			'63739',			'103.214.8.0/22',			''),
		array('THEKYMOI',			'63739',			'144.48.24.0/22',			''),
		array('DAINAM',				'',					'103.216.128.0/22',			''),
		array('OpenDigital',		'',					'103.216.116.0/22',			''),
		array('ASVTECH',			'',					'103.216.112.0/22',			''),
		array('DCNET',				'63741',			'103.216.72.0/22',			'2404:ee80:0000::/48'),
		array('VEGA',				'',					'103.216.120.0/22',			''),
		array('VEGA',				'',					'157.119.244.0/22',			''),
		array('VINACIS',			'',					'103.216.124.0/22',			'2404:ef80:0000::/48'),
		array('VINACIS',			'',					'157.119.248.0/22',			''),
		array('BSC',				'63742',			'103.219.180.0/22','')
	);
	
	function cidr_match($ip, $range) {
		@list ($subnet, $bits) = @explode('/', $range);
		$ip = substr(IP2bin($ip),0,$bits) ;
		$subnet = substr(IP2Bin($subnet),0,$bits) ;
		return ($ip == $subnet) ;
	}
	
	function IP2Bin($ip) {
		$ips = explode(".",$ip);
		$ipbin = null;
		foreach ($ips as $iptmp){
			$ipbin .= sprintf("%08b",$iptmp) ;
		}
		return $ipbin;
	}
	if(!$ip) {
		//Just get the headers if we can or else use the SERVER global
		if ( function_exists( 'apache_request_headers' ) ) {
			$headers = apache_request_headers();
		} else {
			$headers = $_SERVER;
		}
		//Get the forwarded IP if it exists
		if ( array_key_exists( 'X-Forwarded-For', $headers ) && filter_var( $headers['X-Forwarded-For'], FILTER_VALIDATE_IP, FILTER_FLAG_IPV4 ) ) {
			$the_ip = $headers['X-Forwarded-For'];
		} elseif ( array_key_exists( 'HTTP_X_FORWARDED_FOR', $headers ) && filter_var( $headers['HTTP_X_FORWARDED_FOR'], FILTER_VALIDATE_IP, FILTER_FLAG_IPV4 )
		) {
			$the_ip = $headers['HTTP_X_FORWARDED_FOR'];
		} else {
			$the_ip = filter_var( $_SERVER['REMOTE_ADDR'], FILTER_VALIDATE_IP, FILTER_FLAG_IPV4 );
		}
		$ip = $the_ip;
	}
	if(filter_var($ip, FILTER_VALIDATE_IP, FILTER_FLAG_IPV6)) $type = 3;
	else $type = 2;
	
	if(isset($ip)) {
		foreach ($arrayIP as $data) {
			if($data[$type] !='' && cidr_match($ip, $data[$type])) {
				return array($data[0],$data[2],$data[3],$ip);
				break;
			}
		}
	}
	return false;
}

if(isset($_REQUEST['queryipvn'])) {
	if($_REQUEST['queryipvn']!='') $ip = $_REQUEST['queryipvn'];
	else $ip = null;
	$isVN = ip2ipsVN($ip);
	if($isVN) print_r('Is ip in VN: '.$ip);
	else print_r('Not IP in VN: '.$ip);
	echo '<pre>';
    print_r($isVN);
    echo  '</pre>';
}
?>